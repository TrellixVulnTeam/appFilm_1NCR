{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-cookie-service\";\nconst backurl = 'http://localhost:3000/api/';\nexport let FilmService = /*#__PURE__*/(() => {\n  class FilmService {\n    constructor(http, router, cookieService) {\n      this.http = http;\n      this.router = router;\n      this.cookieService = cookieService;\n      this.Api_Token = '653c2ee8cd95fbd2626732aa98a8333e';\n\n      this.getFilmFromServer = (text, page) => {\n        const url = 'https://api.themoviedb.org/3/search/movie?api_key=' + this.Api_Token + '&language=fr&query=' + text + \"&page=\" + page;\n        return this.http.get(url).toPromise().then(response => response).catch(err => console.log(err));\n      };\n\n      this.getImageFromServer = image => {\n        return 'https://image.tmdb.org/t/p/original/' + image;\n      };\n\n      this.getFilmById = id => {\n        const url = 'https://api.themoviedb.org/3/movie/' + id + '?api_key=' + this.Api_Token + '&language=fr';\n        return this.http.get(url).toPromise().then(films => films).catch(err => console.log(err));\n      };\n\n      this.ajouterFilmFavoris = film => {\n        const url = backurl + 'films';\n        return this.http.post(url, {\n          film: film,\n          userId: this.cookieService.get(\"id\")\n        }).toPromise().then(res => res).catch(err => console.log(err));\n      };\n\n      this.getFilmsFavoris = () => {\n        const url = backurl + this.cookieService.get(\"id\");\n        return this.http.get(url).toPromise();\n      };\n\n      this.addComment = comment => {\n        const url = backurl + 'comments/add';\n        return this.http.post(url, comment).toPromise().then(res => res).catch(err => console.log(err));\n      };\n\n      this.getComments = film => {\n        const url = backurl + 'comments';\n        return this.http.post(url, film).toPromise().then(res => res).catch(err => console.log(err));\n      };\n    }\n\n    getAllFilms(page) {\n      const url = 'https://api.themoviedb.org/3/movie/popular?api_key=' + this.Api_Token;\n      return this.http.get(url).toPromise().then(response => response).catch(err => console.log(err));\n    }\n\n    registerUser(user) {\n      const url = backurl + 'users';\n      return this.http.post(url, user).toPromise().then(res => res).catch(err => console.log(err));\n    }\n\n    authenticate(user) {\n      const url = backurl + 'users/authenticate';\n      return this.http.post(url, user).toPromise().then(res => res).catch(err => console.log(err));\n    }\n\n  }\n\n  FilmService.ɵfac = function FilmService_Factory(t) {\n    return new (t || FilmService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.RouterModule), i0.ɵɵinject(i3.CookieService));\n  };\n\n  FilmService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: FilmService,\n    factory: FilmService.ɵfac,\n    providedIn: 'root'\n  });\n  return FilmService;\n})();","map":null,"metadata":{},"sourceType":"module"}